"use strict";(self.webpackChunknov_12_7_37am_forked=self.webpackChunknov_12_7_37am_forked||[]).push([[7695],{20184:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(23430),l=a(72791);a(70629);function r(e){var t=e.fbimg,a=e.message,r=e.occassion,c=e.totext,s=e.fromtext,o=(0,l.useState)("new"),i=(0,n.Z)(o,2),u=i[0],d=i[1];return l.createElement("div",{className:"envelopecardbody"},l.createElement("div",{onClick:function(){"new"===u&&d("open")},className:"envelope ".concat(u," ")},l.createElement("div",{class:"EnvelopeGreetingCardfront"},l.createElement("div",{class:"EnvelopeGreetingCardmail"},l.createElement("p",null,r),l.createElement("p",null,"Click me"))),l.createElement("div",{class:"EnvelopeGreetingCardback"},l.createElement("div",{style:{backgroundImage:"url("+t+")"},class:"EnvelopeGreetingCardletter"},l.createElement("p",null," ",a," "),l.createElement("p",null,s),l.createElement("p",null,c),l.createElement("div",{class:"EnvelopeGreetingCardbox"},l.createElement("div",{class:"EnvelopeGreetingCardcake"},l.createElement("div",{class:"EnvelopeGreetingCardcandle"},l.createElement("div",{class:"EnvelopeGreetingCardfire"}))))),l.createElement("div",{class:"EnvelopeGreetingCardflip left-EnvelopeGreetingCardflip"}),l.createElement("div",{class:"EnvelopeGreetingCardflip right-EnvelopeGreetingCardflip"}),l.createElement("div",{class:"EnvelopeGreetingCardflip bottom-EnvelopeGreetingCardflip"}),l.createElement("div",{class:"EnvelopeGreetingCardflip top-EnvelopeGreetingCardflip"}))))}},11162:function(e,t,a){a.r(t);var n=a(33032),l=a(23430),r=a(84322),c=a.n(r),s=a(72791),o=a(16789),i=a(20184),u=a(72846),d=a(96343),m=a.n(d),v=a(41890),p=a(31733);t.default=function(e){var t=e.match,a=(0,o.I0)(),r=(0,s.useState)(""),d=(0,l.Z)(r,2),E=d[0],f=d[1],g=(0,s.useState)(""),h=(0,l.Z)(g,2),C=h[0],y=h[1],G=(0,s.useState)(""),Z=(0,l.Z)(G,2),x=Z[0],b=Z[1],k=(0,s.useState)(""),w=(0,l.Z)(k,2),_=w[0],S=w[1],D=(0,s.useState)(""),B=(0,l.Z)(D,2),N=B[0],T=B[1],F=u.ZP.firestore(),M=(0,s.useState)(""),I=(0,l.Z)(M,2),P=I[0],j=I[1],A=(0,s.useState)(!1),L=(0,l.Z)(A,2),O=L[0],V=L[1],Y=(0,s.useState)([]),q=(0,l.Z)(Y,2),z=q[0],H=(q[1],(0,s.useState)()),J=(0,l.Z)(H,2),K=J[0],Q=J[1];function R(){return(R=(0,n.Z)(c().mark((function e(){var n,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("Livelinks").doc(t.params.slug).get();case 2:n=e.sent,l=n.data(),j(l),l.array_data.map((function(e,t){"EnvelopeGreetingcard"==e.id&&(Q(t),a({type:"ACTIVE_STEP",payload:{day:t+1}})),z[t]=e.url}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){R.apply(this,arguments)}(),console.log(P,"liveData"),console.log(t.params.slug,"slug",t.params.id,"id")}),[]),(0,s.useEffect)((function(){V(!0);u.ZP.database().ref("/EnvelopeGreetingCard/"+t.params.id).once("value").then((function(e){var t=e.val().url;f(t);var a=e.val().message;y(a);var n=e.val().occassion;b(n);var l=e.val().totext;S(l);var r=e.val().fromtext;T(r)}));V(!1)}),[]);var U=function(){(new Date).getFullYear();var e=+new Date(P.Bday_date)-+new Date-198e5-864e5*(z.length-K);console.log(e,"difference");var t={};return e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},W=(0,s.useState)(U()),X=(0,l.Z)(W,2),$=X[0],ee=X[1];(0,s.useEffect)((function(){setTimeout((function(){ee(U())}),1e3)}));var te=[];return Object.keys($).forEach((function(e){$[e]&&te.push(s.createElement("span",null,$[e]," ",e," "))})),s.createElement("div",null,s.createElement(p.Z,{slug:t.params.slug}),s.createElement("br",null),s.createElement("br",null),s.createElement("br",null),s.createElement("div",{style:{display:"flex"}},s.createElement("div",{style:{flex:"1"}},O?s.createElement(m(),{type:"BallTriangle",color:"#00BFFF",height:100,width:100}):s.createElement("div",null,new Date(P.Bday_date)-+new Date-198e5-864e5*(z.length-K-1)>0?s.createElement("div",null,s.createElement("h5",{className:"example"}," This Gift opens in "),s.createElement(v.Z,{Bday:+new Date(P.Bday_date)-+new Date-198e5-864e5*(z.length-K-1)})):s.createElement("div",null,s.createElement("center",null," ",z.length-K-1==0?s.createElement("h1",{className:"example"},"The Big day is here !!!"):z.length-K-1==1?s.createElement("h1",{className:"example"},z.length-K-1," day to go !!!"):s.createElement("h1",{className:"example"},z.length-K-1," days to go !!!")),s.createElement(i.Z,{fbimg:E,message:C,occassion:x,totext:_,fromtext:N}))))))}}}]);
//# sourceMappingURL=7695.5bc05881.chunk.js.map