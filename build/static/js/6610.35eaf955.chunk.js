"use strict";(self.webpackChunknov_12_7_37am_forked=self.webpackChunknov_12_7_37am_forked||[]).push([[6610],{13384:function(e,t,a){a.r(t);var n=a(33032),l=a(23430),r=a(84322),s=a.n(r),c=a(72791),o=a(96343),u=a.n(o),i=a(16789),m=a(93974),f=a(72846),d=a(31733),h=a(41890);t.default=function(e){var t=e.match,a=(0,i.I0)(),r=f.ZP.firestore(),o=(0,c.useState)(""),p=(0,l.Z)(o,2),g=p[0],E=p[1],v=(0,c.useState)(""),y=(0,l.Z)(v,2),w=y[0],_=y[1],Z=(0,c.useState)(""),b=(0,l.Z)(Z,2),k=b[0],D=b[1],S=(0,c.useState)(!1),x=(0,l.Z)(S,2),B=x[0],T=x[1],C=(0,c.useState)([]),M=(0,l.Z)(C,2),N=M[0],P=(M[1],(0,c.useState)()),I=(0,l.Z)(P,2),j=I[0],A=I[1];function F(){return(F=(0,n.Z)(s().mark((function e(){var n,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("Livelinks").doc(t.params.slug).get();case 2:n=e.sent,l=n.data(),D(l),l.array_data.map((function(e,t){"challenge"==e.id&&(A(t),a({type:"ACTIVE_STEP",payload:{day:t+1}})),N[t]=e.url}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){!function(){F.apply(this,arguments)}(),console.log(k,"liveData"),console.log(t.params.slug,"slug",t.params.id,"id")}),[]),(0,c.useEffect)((function(){T(!0);f.ZP.database().ref("/Challenge/"+t.params.id).once("value").then((function(e){var t=e.val().url;E(t);var a=e.val().wishes;_(a),T(!1)}))}),[]);var G=function(){(new Date).getFullYear();var e=+new Date(k.Bday_date)-+new Date-198e5-864e5*(N.length-j);console.log(e,"difference");var t={};return e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},L=(0,c.useState)(G()),O=(0,l.Z)(L,2),V=O[0],Y=O[1];(0,c.useEffect)((function(){setTimeout((function(){Y(G())}),1e3)}));var q=[];return Object.keys(V).forEach((function(e){V[e]&&q.push(c.createElement("span",null,V[e]," ",e," "))})),c.createElement("div",null,c.createElement(d.Z,{slug:t.params.slug}),c.createElement("br",null),c.createElement("br",null),c.createElement("br",null),c.createElement("div",{style:{backgroundColor:"#70cff3"},class:"container-fluid pt-2"},c.createElement("div",{class:"row"},c.createElement("div",{class:"col-sm-12 mb-5"},B?c.createElement(u(),{type:"BallTriangle",color:"#fdc674",height:100,width:100}):c.createElement("div",null,new Date(k.Bday_date)-+new Date-198e5-864e5*(N.length-j-1)>0?c.createElement("div",null,c.createElement("h5",{className:"example"}," This Gift opens in "),c.createElement(h.Z,{Bday:+new Date(k.Bday_date)-+new Date-198e5-864e5*(N.length-j-1)})):c.createElement("div",null,c.createElement("center",null," ",N.length-j-1==0?c.createElement("h1",{className:"example"},"The Big day is here !!!"):N.length-j-1==1?c.createElement("h1",{className:"example"},N.length-j-1," day to go !!!"):c.createElement("h1",{className:"example"},N.length-j-1," days to go !!!")),c.createElement(m.default,{fbimg:g,wishes:w})))))))}}}]);
//# sourceMappingURL=6610.35eaf955.chunk.js.map