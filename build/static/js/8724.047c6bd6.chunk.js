"use strict";(self.webpackChunknov_12_7_37am_forked=self.webpackChunknov_12_7_37am_forked||[]).push([[8724],{25897:function(e,a,t){t.r(a);var n=t(33032),l=t(23430),r=t(84322),s=t.n(r),c=t(72791),o=t(96343),u=t.n(o),d=t(16789),i=t(72846),m=t(31733),f=t(62224),h=t(41890);a.default=function(e){var a=e.match,t=(0,d.I0)(),r=i.ZP.firestore(),o=(0,c.useState)(""),p=(0,l.Z)(o,2),E=p[0],g=p[1],v=(0,c.useState)(""),y=(0,l.Z)(v,2),_=y[0],w=y[1],Z=(0,c.useState)(""),S=(0,l.Z)(Z,2),b=S[0],k=S[1],D=(0,c.useState)(""),B=(0,l.Z)(D,2),x=B[0],T=B[1],N=(0,c.useState)(!1),C=(0,l.Z)(N,2),M=C[0],P=C[1],I=(0,c.useState)([]),L=(0,l.Z)(I,2),j=L[0],A=(L[1],(0,c.useState)()),F=(0,l.Z)(A,2),G=F[0],O=F[1],V=(0,c.useState)(),Y=(0,l.Z)(V,2),q=Y[0],z=Y[1];function H(){return(H=(0,n.Z)(s().mark((function e(){var n,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("Livelinks").doc(a.params.slug).get();case 2:n=e.sent,console.log(G,"snapshot.data() today"),console.log(n.data().array_data,"snapshot.data().array_data"),console.log(n.data().array_data.length,"snapshot.data().array_data.length"),l=n.data(),T(l),l.array_data.map((function(e,a){"newspaper"==e.id&&(O(a),z(Date.parse(n.data().Bday_date.toLocaleString())-198e5-864e5*(n.data().array_data.length-a-1)),t({type:"ACTIVE_STEP",payload:{day:a+1}})),j[a]=e.url}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){!function(){H.apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){P(!0);i.ZP.database().ref("/NewsPaper/"+a.params.id).once("value").then((function(e){var a=e.val().url;g(a);var t=e.val().head;w(t);var n=e.val().para;k(n),P(!1)}))}),[]);var J=function(){(new Date).getFullYear();var e=+new Date(x.Bday_date)-+new Date-198e5-864e5*(j.length-G);console.log(e,"difference");var a={};return e>0&&(a={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),a},K=(0,c.useState)(J()),Q=(0,l.Z)(K,2),R=Q[0],U=Q[1];(0,c.useEffect)((function(){setTimeout((function(){U(J())}),1e3)}));var W=[];return Object.keys(R).forEach((function(e){R[e]&&W.push(c.createElement("span",null,R[e]," ",e," "))})),c.createElement("div",null,c.createElement(m.Z,{slug:a.params.slug}),c.createElement("br",null),c.createElement("br",null),c.createElement("br",null),c.createElement("div",{style:{backgroundColor:"#70cff3"},class:"container-fluid pt-2"},c.createElement("div",{class:"row"},c.createElement("div",{class:"col-sm-1 "}),c.createElement("div",{class:"col-sm-10 mb-3"},M?c.createElement(u(),{type:"BallTriangle",color:"#fdc674",height:100,width:100}):c.createElement("div",null,new Date(x.Bday_date)-+new Date-198e5-864e5*(j.length-G-1)>0?c.createElement("div",null,c.createElement("h5",{className:"example"}," This Gift opens in "),c.createElement(h.Z,{Bday:+new Date(x.Bday_date)-+new Date-198e5-864e5*(j.length-G-1)})):c.createElement("div",null,c.createElement("center",null," ",j.length-G-1==0?c.createElement("h1",{className:"example"},"The Big day is here !!!"):j.length-G-1==1?c.createElement("h1",{className:"example"},j.length-G-1," day to go !!!"):c.createElement("h1",{className:"example"},j.length-G-1," days to go !!!")),c.createElement(f.Z,{fbimg:E,head:_,para:b,startDate:q})))),c.createElement("div",{class:"col-sm-1 "}))))}}}]);
//# sourceMappingURL=8724.047c6bd6.chunk.js.map